<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Evaluate models and calculate performance evaluation measures — evalmod • precrec</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">precrec</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/introduction.html">Introduction</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/takayasaito/precrec">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Evaluate models and calculate performance evaluation measures</h1>
    </div>

    
    <p>The <code>evalmod</code> function calculates ROC and Precision-Recall curves for
  specified prediction scores and binary labels. It also calculate several
  basic performance evaluation measures, such as accuracy, error rate, and
  precision, by specifying <code>mode</code> as "basic".</p>
    

    <pre class="usage"><span class='fu'>evalmod</span>(<span class='no'>mdat</span>, <span class='kw'>mode</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>scores</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>modnames</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>dsids</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>posclass</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>na_worst</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>ties_method</span> <span class='kw'>=</span> <span class='st'>"equiv"</span>, <span class='kw'>calc_avg</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>cb_alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>,
  <span class='kw'>raw_curves</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>x_bins</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mdat</th>
      <td><p>An <code>S3</code> object created by the <code><a href='mmdata.html'>mmdata</a></code>
function. It contains formatted scores and labels.
The <code>evalmod</code> function ignores the following arguments
when <code>mdat</code> is specified.</p><ul>
<li><p><code>scores</code></p></li>
<li><p><code>labels</code></p></li>
<li><p><code>modnames</code></p></li>
<li><p><code>dsids</code></p></li>
<li><p><code>posclass</code></p></li>
<li><p><code>na_worst</code></p></li>
<li><p><code>ties_method</code></p></li>
</ul><p>These arguments are internally passed to the <code><a href='mmdata.html'>mmdata</a></code> function
when <code>mdat</code> is unspecified.
In that case, both <code>scores</code> and <code>labels</code> must be
at least specified.</p></td>
    </tr>
    <tr>
      <th>mode</th>
      <td><p>A string that specifies the types of evaluation measures
that the <code>evalmod</code> function calculates.</p><dl class='dl-horizontal'>
  <dt>"rocprc"</dt><dd><p>ROC and Precision-Recall curves</p></dd>
  <dt>"prcroc"</dt><dd><p>Same as above</p></dd>
  <dt>"basic"</dt><dd><p>Normalized ranks vs. accuracy, error rate, specificity,
                 sensitivity, precision, Matthews correlation coefficient,
                 and F-score.</p></dd>
  <dt>"aucroc"</dt><dd><p>Fast AUC(ROC) calculation with the U statistic</p></dd>
</dl></td>
    </tr>
    <tr>
      <th>scores</th>
      <td><p>A numeric dataset of predicted scores. It can be a vector,
a matrix, an array, a data frame, or a list. The <code><a href='join_scores.html'>join_scores</a></code>
function can be useful to make scores with multiple datasets.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>A numeric, character, logical, or factor dataset
of observed labels. It can be a vector, a matrix, an array,
a data frame, or a list. The <code><a href='join_labels.html'>join_labels</a></code>
function can be useful to make labels with multiple datasets.</p></td>
    </tr>
    <tr>
      <th>modnames</th>
      <td><p>A character vector for the names of the models.
The <code>evalmod</code> function automatically generates default names
as "m1", "m2", "m3", and so on when it is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>dsids</th>
      <td><p>A numeric vector for test dataset IDs.
The <code>evalmod</code> function automatically generates the default ID
as <code>1</code> when it is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>posclass</th>
      <td><p>A scalar value to specify the label of positives
in <code>labels</code>. It must be the same data type as <code>labels</code>.
For example, <code>posclass = -1</code> changes the positive label
from <code>1</code> to <code>-1</code> when <code>labels</code> contains
<code>1</code> and <code>-1</code>. The positive label will be automatically
detected when <code>posclass</code> is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>na_worst</th>
      <td><p>A Boolean value for controlling the treatment of NAs
in <code>scores</code>.</p><dl class='dl-horizontal'>
  <dt>TRUE</dt><dd><p>All NAs are treated as the worst scores</p></dd>
  <dt>FALSE</dt><dd><p>All NAs are treated as the best scores</p></dd>
</dl></td>
    </tr>
    <tr>
      <th>ties_method</th>
      <td><p>A string for controlling ties in <code>scores</code>.</p><dl class='dl-horizontal'>
  <dt>"equiv"</dt><dd><p>Ties are equivalently ranked</p></dd>
  <dt>"first"</dt><dd><p>Ties are ranked in an increasing order as appeared</p></dd>
  <dt>"random"</dt><dd><p>Ties are ranked in random order</p></dd>
</dl></td>
    </tr>
    <tr>
      <th>calc_avg</th>
      <td><p>A logical value to specify whether average curves should
be calculated. It is effective only when <code>dsids</code> contains multiple
dataset IDs. For instance, the function calculates the average for the
model "m1" when <code>modnames</code> is <code>c("m1", "m1", "m1")</code> and
<code>dsids</code> is <code>c(1, 2, 3)</code>. The calculation points are defined by
<code>x_bins</code>.</p></td>
    </tr>
    <tr>
      <th>cb_alpha</th>
      <td><p>A numeric value with range [0, 1] to specify the alpha
value of the point-wise confidence bounds calculation. It is effective only
when <code>calc_avg</code> is set to <code>TRUE</code>. For example, it should be
<code>0.05</code> for the 95% confidence level. The calculation points are
defined by <code>x_bins</code>.</p></td>
    </tr>
    <tr>
      <th>raw_curves</th>
      <td><p>A logical value to specify whether all raw curves
should be discarded after the average curves are calculated.
It is effective only when <code>calc_avg</code> is set to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>x_bins</th>
      <td><p>An integer value to specify the number of minimum bins
on the x-axis. It is then used to define supporting poins. For instance,
the x-values of the supporting points will be <code>c(0, 0.5, 1)</code> and
<code>c(0, 0.25, 0.5, 0.75, 1)</code> when <code>x_bins = 2</code>
and <code>x_bins = 4</code>, respectively. All corresponding y-values of
the supporting points are calculated.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Not used by this method.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The <code>evalmod</code> function returns an <code>S3</code> object
  that contains performance evaluation measures. The number of models and
  the number of datasets can be controlled by <code>modnames</code> and
  <code>dsids</code>. For example, the number of models is "single" and the number
  of test datasets is "multiple" when <code>modnames = c("m1", "m1", "m1")</code>
  and <code>dsids = c(1, 2, 3)</code> are specified.</p>
<p>Different <code>S3</code> objects have different default behaviors of <code>S3</code>
  generics, such as <code><a href='plot.html'>plot</a></code>, <code><a href='autoplot.html'>autoplot</a></code>, and
  <code><a href='fortify.html'>fortify</a></code>.</p><ol>
<li><p>The <code>evalmod</code> function returns one of the following <code>S3</code>
  objects when <code>mode</code> is "prcroc".
  The objects contain ROC and Precision-Recall curves.</p>
<p></p>
<table width="100%">
   <tr>
      <td><strong>S3 object</strong> </td>
      <td><strong># of models</strong> </td>
      <td><strong># of test datasets</strong> </td>
   </tr>
   <tr>
      <td> sscurves </td>
      <td> single   </td>
      <td> single   </td>
   </tr>
   <tr>
      <td> mscurves </td>
      <td> multiple </td>
      <td> single   </td>
   </tr>
   <tr>
      <td> smcurves </td>
      <td> single   </td>
      <td> multiple </td>
   </tr>
   <tr>
      <td> mmcurves </td>
      <td> multiple </td>
      <td> multiple </td>
   </tr>
</table>
</li>
<li><p>The <code>evalmod</code> function returns one of the following <code>S3</code>
  objects when <code>mode</code> is "basic".
  They contain five different basic evaluation measures; error rate,
  accuracy, specificity, sensitivity, and precision.</p>
<p></p>
<table width="100%">
   <tr>
      <td><strong>S3 object</strong> </td>
      <td><strong># of models</strong> </td>
      <td><strong># of test datasets</strong> </td>
   </tr>
   <tr>
      <td> sspoints </td>
      <td> single   </td>
      <td> single   </td>
   </tr>
   <tr>
      <td> mspoints </td>
      <td> multiple </td>
      <td> single   </td>
   </tr>
   <tr>
      <td> smpoints </td>
      <td> single   </td>
      <td> multiple </td>
   </tr>
   <tr>
      <td> mmpoints </td>
      <td> multiple </td>
      <td> multiple </td>
   </tr>
</table>
</li>
<li><p>The <code>evalmod</code> function returns the <code>aucroc</code> S3 object
  when <code>mode</code> is "aucroc", which can be used with 'print' and 'as.data.frame'.</p></li>
</ol>

    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='plot.html'>plot</a></code> for plotting curves with the general R plot.
  <code><a href='autoplot.html'>autoplot</a></code> and <code><a href='fortify.html'>fortify</a></code> for plotting curves
  with <span class="pkg">ggplot2</span>. <code><a href='mmdata.html'>mmdata</a></code> for formatting input data.
  <code><a href='join_scores.html'>join_scores</a></code> and <code><a href='join_labels.html'>join_labels</a></code> for formatting
  scores and labels with multiple datasets.
  <code><a href='create_sim_samples.html'>create_sim_samples</a></code> for generating random samples
  for simulations.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>##################################################</span>
<span class='co'>### Single model &amp; single test dataset</span>
<span class='co'>###</span>

<span class='co'>## Load a dataset with 10 positives and 10 negatives</span>
<span class='fu'>data</span>(<span class='no'>P10N10</span>)

<span class='co'>## Generate an sscurve object that contains ROC and Precision-Recall curves</span>
<span class='no'>sscurves</span> <span class='kw'>&lt;-</span> <span class='fu'>evalmod</span>(<span class='kw'>scores</span> <span class='kw'>=</span> <span class='no'>P10N10</span>$<span class='no'>scores</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='no'>P10N10</span>$<span class='no'>labels</span>)
<span class='no'>sscurves</span></div><div class='output co'>#&gt; 
#&gt;     === AUCs ===
#&gt; 
#&gt;      Model name Dataset ID Curve type       AUC
#&gt;    1         m1          1        ROC 0.7200000
#&gt;    2         m1          1        PRC 0.7397716
#&gt; 
#&gt; 
#&gt;     === Input data ===
#&gt; 
#&gt;      Model name Dataset ID # of negatives # of positives
#&gt;    1         m1          1             10             10
#&gt; </div><div class='input'>
<span class='co'>## Generate an sspoints object that contains basic evaluation measures</span>
<span class='no'>sspoints</span> <span class='kw'>&lt;-</span> <span class='fu'>evalmod</span>(<span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"basic"</span>, <span class='kw'>scores</span> <span class='kw'>=</span> <span class='no'>P10N10</span>$<span class='no'>scores</span>,
                    <span class='kw'>labels</span> <span class='kw'>=</span> <span class='no'>P10N10</span>$<span class='no'>labels</span>)
<span class='no'>sspoints</span></div><div class='output co'>#&gt; 
#&gt;     === Basic performance evaluation measures ===
#&gt; 
#&gt;      ## Performance measures (Meas.)
#&gt;       rank:   normalized rank
#&gt;       score:  score
#&gt;       label:  label
#&gt;       err:    error rate
#&gt;       acc:    accuracy
#&gt;       sp:     specificity
#&gt;       sn:     sensitivity
#&gt;       prec:   precision
#&gt;       mcc:    Matthews correlation coefficient
#&gt;       fscore: F-score
#&gt; 
#&gt; 
#&gt;      Model ID  Meas.       Min.    1st Qu.     Median       Mean    3rd Qu.
#&gt;    1    m1  1   rank  0.0000000  0.2500000  0.5000000  0.5000000  0.7500000
#&gt;    2    m1  1  score  5.0000000  5.7500000 14.0000000 11.7500000 15.2500000
#&gt;    3    m1  1  label -1.0000000 -1.0000000  0.0000000  0.0000000  1.0000000
#&gt;    4    m1  1    err  0.3000000  0.3500000  0.4000000  0.3952381  0.4400000
#&gt;    5    m1  1    acc  0.5000000  0.5600000  0.6000000  0.6047619  0.6500000
#&gt;    6    m1  1     sp  0.0000000  0.4000000  0.6333333  0.6047619  0.9000000
#&gt;    7    m1  1     sn  0.0000000  0.4000000  0.6333333  0.6047619  0.9000000
#&gt;    8    m1  1   prec  0.5000000  0.5750000  0.6333333  0.6892147  0.7619048
#&gt;    9    m1  1    mcc  0.1376494  0.2238168  0.2666667  0.2755698  0.3367701
#&gt;   10    m1  1 fscore  0.0000000  0.5333333  0.6333333  0.5579798  0.6758621
#&gt;            Max.
#&gt;    1  1.0000000
#&gt;    2 20.0000000
#&gt;    3  1.0000000
#&gt;    4  0.5000000
#&gt;    5  0.7000000
#&gt;    6  1.0000000
#&gt;    7  1.0000000
#&gt;    8  1.0000000
#&gt;    9  0.4364358
#&gt;   10  0.7200000
#&gt; 
#&gt; 
#&gt;     === Input data ===
#&gt; 
#&gt;      Model name Dataset ID # of negatives # of positives
#&gt;    1         m1          1             10             10
#&gt; </div><div class='input'>

<span class='co'>##################################################</span>
<span class='co'>### Multiple models &amp; single test dataset</span>
<span class='co'>###</span>

<span class='co'>## Create sample datasets with 100 positives and 100 negatives</span>
<span class='no'>samps</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='create_sim_samples.html'>create_sim_samples</a></span>(<span class='fl'>1</span>, <span class='fl'>100</span>, <span class='fl'>100</span>, <span class='st'>"all"</span>)
<span class='no'>mdat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mmdata.html'>mmdata</a></span>(<span class='no'>samps</span><span class='kw'>[[</span><span class='st'>"scores"</span>]], <span class='no'>samps</span><span class='kw'>[[</span><span class='st'>"labels"</span>]],
               <span class='kw'>modnames</span> <span class='kw'>=</span> <span class='no'>samps</span><span class='kw'>[[</span><span class='st'>"modnames"</span>]])

<span class='co'>## Generate an mscurve object that contains ROC and Precision-Recall curves</span>
<span class='no'>mscurves</span> <span class='kw'>&lt;-</span> <span class='fu'>evalmod</span>(<span class='no'>mdat</span>)
<span class='no'>mscurves</span></div><div class='output co'>#&gt; 
#&gt;     === AUCs ===
#&gt; 
#&gt;      Model name Dataset ID Curve type       AUC
#&gt;    1     random          1        ROC 0.4795000
#&gt;    2     random          1        PRC 0.4916857
#&gt;    3    poor_er          1        ROC 0.7892000
#&gt;    4    poor_er          1        PRC 0.7431133
#&gt;    5    good_er          1        ROC 0.8211000
#&gt;    6    good_er          1        PRC 0.8611809
#&gt;    7      excel          1        ROC 0.9796000
#&gt;    8      excel          1        PRC 0.9817348
#&gt;    9       perf          1        ROC 1.0000000
#&gt;   10       perf          1        PRC 1.0000000
#&gt; 
#&gt; 
#&gt;     === Input data ===
#&gt; 
#&gt;      Model name Dataset ID # of negatives # of positives
#&gt;    1     random          1            100            100
#&gt;    2    poor_er          1            100            100
#&gt;    3    good_er          1            100            100
#&gt;    4      excel          1            100            100
#&gt;    5       perf          1            100            100
#&gt; </div><div class='input'>
<span class='co'>## Generate an mspoints object that contains basic evaluation measures</span>
<span class='no'>mspoints</span> <span class='kw'>&lt;-</span> <span class='fu'>evalmod</span>(<span class='no'>mdat</span>, <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"basic"</span>)
<span class='no'>mspoints</span></div><div class='output co'>#&gt; 
#&gt;     === Basic performance evaluation measures ===
#&gt; 
#&gt;      ## Performance measures (Meas.)
#&gt;       rank:   normalized rank
#&gt;       score:  score
#&gt;       label:  label
#&gt;       err:    error rate
#&gt;       acc:    accuracy
#&gt;       sp:     specificity
#&gt;       sn:     sensitivity
#&gt;       prec:   precision
#&gt;       mcc:    Matthews correlation coefficient
#&gt;       fscore: F-score
#&gt; 
#&gt; 
#&gt;        Model ID  Meas.         Min.     1st Qu.      Median        Mean
#&gt;    1  random  1   rank  0.000000000  0.25000000  0.50000000  0.50000000
#&gt;    2  random  1  score -2.878485001 -0.72773269  0.02808547  0.01529857
#&gt;    3  random  1  label -1.000000000 -1.00000000  0.00000000  0.00000000
#&gt;    4  random  1    err  0.475000000  0.50000000  0.51000000  0.51019900
#&gt;    5  random  1    acc  0.460000000  0.48000000  0.49000000  0.48980100
#&gt;    6  random  1     sp  0.000000000  0.23000000  0.48000000  0.48980100
#&gt;    7  random  1     sn  0.000000000  0.23000000  0.48000000  0.48980100
#&gt;    8  random  1   prec  0.333333333  0.47222222  0.48920863  0.49088248
#&gt;    9  random  1    mcc -0.082849302 -0.04650866 -0.02411915 -0.01998491
#&gt;   10  random  1 fscore  0.000000000  0.30666667  0.48000000  0.43904038
#&gt;   11 poor_er  1   rank  0.000000000  0.25000000  0.50000000  0.50000000
#&gt;   12 poor_er  1  score  0.007868788  0.48930496  0.70792731  0.65436372
#&gt;   13 poor_er  1  label -1.000000000 -1.00000000  0.00000000  0.00000000
#&gt;   14 poor_er  1    err  0.275000000  0.29500000  0.33500000  0.35611940
#&gt;   15 poor_er  1    acc  0.500000000  0.59000000  0.66500000  0.64388060
#&gt;   16 poor_er  1     sp  0.000000000  0.46000000  0.70000000  0.64388060
#&gt;   17 poor_er  1     sn  0.000000000  0.39000000  0.70000000  0.64388060
#&gt;   18 poor_er  1   prec  0.500000000  0.63157895  0.69607843  0.69585957
#&gt;   19 poor_er  1    mcc  0.000000000  0.27680801  0.36551777  0.34118343
#&gt;   20 poor_er  1 fscore  0.000000000  0.52000000  0.69565217  0.59802386
#&gt;   21 good_er  1   rank  0.000000000  0.25000000  0.50000000  0.50000000
#&gt;   22 good_er  1  score  0.001194265  0.13045693  0.30607368  0.37146264
#&gt;   23 good_er  1  label -1.000000000 -1.00000000  0.00000000  0.00000000
#&gt;   24 good_er  1    err  0.225000000  0.26500000  0.34000000  0.34024876
#&gt;   25 good_er  1    acc  0.500000000  0.59000000  0.66000000  0.65975124
#&gt;   26 good_er  1     sp  0.000000000  0.38000000  0.77000000  0.65975124
#&gt;   27 good_er  1     sn  0.000000000  0.48000000  0.77000000  0.65975124
#&gt;   28 good_er  1   prec  0.500000000  0.58666667  0.76595745  0.76138777
#&gt;   29 good_er  1    mcc  0.070888121  0.27824924  0.37083854  0.38011788
#&gt;   30 good_er  1 fscore  0.000000000  0.64429530  0.69818182  0.62541315
#&gt;   31   excel  1   rank  0.000000000  0.25000000  0.50000000  0.50000000
#&gt;   32   excel  1  score -1.971408775  0.17298974  1.47568201  1.58062184
#&gt;   33   excel  1  label -1.000000000 -1.00000000  0.00000000  0.00000000
#&gt;   34   excel  1    err  0.060000000  0.14500000  0.25000000  0.26139303
#&gt;   35   excel  1    acc  0.500000000  0.62500000  0.75000000  0.73860697
#&gt;   36   excel  1     sp  0.000000000  0.50000000  0.94000000  0.73860697
#&gt;   37   excel  1     sn  0.000000000  0.50000000  0.94000000  0.73860697
#&gt;   38   excel  1   prec  0.500000000  0.66666667  0.93684211  0.83622336
#&gt;   39   excel  1    mcc  0.070888121  0.38226007  0.57735027  0.55280721
#&gt;   40   excel  1 fscore  0.000000000  0.66666667  0.76335878  0.70046179
#&gt;   41    perf  1   rank  0.000000000  0.25000000  0.50000000  0.50000000
#&gt;   42    perf  1  score  0.000000000  0.00000000  0.50000000  0.50000000
#&gt;   43    perf  1  label -1.000000000 -1.00000000  0.00000000  0.00000000
#&gt;   44    perf  1    err  0.000000000  0.12500000  0.25000000  0.25124378
#&gt;   45    perf  1    acc  0.500000000  0.62500000  0.75000000  0.74875622
#&gt;   46    perf  1     sp  0.000000000  0.50000000  1.00000000  0.74875622
#&gt;   47    perf  1     sn  0.000000000  0.50000000  1.00000000  0.74875622
#&gt;   48    perf  1   prec  0.500000000  0.66666667  1.00000000  0.84609623
#&gt;   49    perf  1    mcc  0.070888121  0.38226007  0.57735027  0.57352524
#&gt;   50    perf  1 fscore  0.000000000  0.66666667  0.76335878  0.71042736
#&gt;        3rd Qu.      Max.
#&gt;    1 0.7500000 1.0000000
#&gt;    2 0.6352232 3.6764093
#&gt;    3 1.0000000 1.0000000
#&gt;    4 0.5200000 0.5400000
#&gt;    5 0.5000000 0.5250000
#&gt;    6 0.7300000 1.0000000
#&gt;    7 0.7300000 1.0000000
#&gt;    8 0.5000000 1.0000000
#&gt;    9 0.0000000 0.1005038
#&gt;   10 0.5849802 0.6711409
#&gt;   11 0.7500000 1.0000000
#&gt;   12 0.8953252 0.9986831
#&gt;   13 1.0000000 1.0000000
#&gt;   14 0.4100000 0.5000000
#&gt;   15 0.7050000 0.7250000
#&gt;   16 0.8900000 1.0000000
#&gt;   17 0.9600000 1.0000000
#&gt;   18 0.7735849 1.0000000
#&gt;   19 0.4258947 0.4932763
#&gt;   20 0.7300380 0.7710843
#&gt;   21 0.7500000 1.0000000
#&gt;   22 0.5818156 0.9817383
#&gt;   23 1.0000000 1.0000000
#&gt;   24 0.4100000 0.5000000
#&gt;   25 0.7350000 0.7750000
#&gt;   26 0.9800000 1.0000000
#&gt;   27 0.8800000 1.0000000
#&gt;   28 0.9607843 1.0000000
#&gt;   29 0.5116661 0.5680376
#&gt;   30 0.7209302 0.7738693
#&gt;   31 0.7500000 1.0000000
#&gt;   32 3.0558302 5.1287773
#&gt;   33 1.0000000 1.0000000
#&gt;   34 0.3750000 0.5000000
#&gt;   35 0.8550000 0.9400000
#&gt;   36 1.0000000 1.0000000
#&gt;   37 1.0000000 1.0000000
#&gt;   38 1.0000000 1.0000000
#&gt;   39 0.7343232 0.8800000
#&gt;   40 0.8609865 0.9400000
#&gt;   41 0.7500000 1.0000000
#&gt;   42 1.0000000 1.0000000
#&gt;   43 1.0000000 1.0000000
#&gt;   44 0.3750000 0.5000000
#&gt;   45 0.8750000 1.0000000
#&gt;   46 1.0000000 1.0000000
#&gt;   47 1.0000000 1.0000000
#&gt;   48 1.0000000 1.0000000
#&gt;   49 0.7745967 1.0000000
#&gt;   50 0.8764045 1.0000000
#&gt; 
#&gt; 
#&gt;     === Input data ===
#&gt; 
#&gt;      Model name Dataset ID # of negatives # of positives
#&gt;    1     random          1            100            100
#&gt;    2    poor_er          1            100            100
#&gt;    3    good_er          1            100            100
#&gt;    4      excel          1            100            100
#&gt;    5       perf          1            100            100
#&gt; </div><div class='input'>

<span class='co'>##################################################</span>
<span class='co'>### Single model &amp; multiple test datasets</span>
<span class='co'>###</span>

<span class='co'>## Create sample datasets with 100 positives and 100 negatives</span>
<span class='no'>samps</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='create_sim_samples.html'>create_sim_samples</a></span>(<span class='fl'>4</span>, <span class='fl'>100</span>, <span class='fl'>100</span>, <span class='st'>"good_er"</span>)
<span class='no'>mdat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mmdata.html'>mmdata</a></span>(<span class='no'>samps</span><span class='kw'>[[</span><span class='st'>"scores"</span>]], <span class='no'>samps</span><span class='kw'>[[</span><span class='st'>"labels"</span>]],
               <span class='kw'>modnames</span> <span class='kw'>=</span> <span class='no'>samps</span><span class='kw'>[[</span><span class='st'>"modnames"</span>]],
               <span class='kw'>dsids</span> <span class='kw'>=</span> <span class='no'>samps</span><span class='kw'>[[</span><span class='st'>"dsids"</span>]])

<span class='co'>## Generate an smcurve object that contains ROC and Precision-Recall curves</span>
<span class='no'>smcurves</span> <span class='kw'>&lt;-</span> <span class='fu'>evalmod</span>(<span class='no'>mdat</span>)
<span class='no'>smcurves</span></div><div class='output co'>#&gt; 
#&gt;     === AUCs ===
#&gt; 
#&gt;      Model name Dataset ID Curve type       AUC
#&gt;    1    good_er          1        ROC 0.8412000
#&gt;    2    good_er          1        PRC 0.8734109
#&gt;    3    good_er          2        ROC 0.7375000
#&gt;    4    good_er          2        PRC 0.7924975
#&gt;    5    good_er          3        ROC 0.7702000
#&gt;    6    good_er          3        PRC 0.8214339
#&gt;    7    good_er          4        ROC 0.7942000
#&gt;    8    good_er          4        PRC 0.8349211
#&gt; 
#&gt; 
#&gt;     === Input data ===
#&gt; 
#&gt;      Model name Dataset ID # of negatives # of positives
#&gt;    1    good_er          1            100            100
#&gt;    2    good_er          2            100            100
#&gt;    3    good_er          3            100            100
#&gt;    4    good_er          4            100            100
#&gt; </div><div class='input'>
<span class='co'>## Generate an smpoints object that contains basic evaluation measures</span>
<span class='no'>smpoints</span> <span class='kw'>&lt;-</span> <span class='fu'>evalmod</span>(<span class='no'>mdat</span>, <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"basic"</span>)
<span class='no'>smpoints</span></div><div class='output co'>#&gt; 
#&gt;     === Basic performance evaluation measures ===
#&gt; 
#&gt;      ## Performance measures (Meas.)
#&gt;       rank:   normalized rank
#&gt;       score:  score
#&gt;       label:  label
#&gt;       err:    error rate
#&gt;       acc:    accuracy
#&gt;       sp:     specificity
#&gt;       sn:     sensitivity
#&gt;       prec:   precision
#&gt;       mcc:    Matthews correlation coefficient
#&gt;       fscore: F-score
#&gt; 
#&gt; 
#&gt;        Model ID  Meas.          Min.     1st Qu.    Median      Mean   3rd Qu.
#&gt;    1 good_er  1   rank  0.000000e+00  0.25000000 0.5000000 0.5000000 0.7500000
#&gt;    2 good_er  1  score  3.117859e-03  0.13300525 0.3138495 0.3824967 0.6418442
#&gt;    3 good_er  1  label -1.000000e+00 -1.00000000 0.0000000 0.0000000 1.0000000
#&gt;    4 good_er  1    err  2.300000e-01  0.25000000 0.3000000 0.3302488 0.4000000
#&gt;    5 good_er  1    acc  5.000000e-01  0.60000000 0.7000000 0.6697512 0.7500000
#&gt;    6 good_er  1     sp  0.000000e+00  0.42000000 0.7600000 0.6697512 0.9700000
#&gt;    7 good_er  1     sn  0.000000e+00  0.47000000 0.7600000 0.6697512 0.9200000
#&gt;    8 good_er  1   prec  5.000000e-01  0.61589404 0.7575758 0.7700480 0.9454545
#&gt;    9 good_er  1    mcc  0.000000e+00  0.30730550 0.4510508 0.3980672 0.5201040
#&gt;   10 good_er  1 fscore  0.000000e+00  0.63576159 0.7037037 0.6345064 0.7487179
#&gt;   11 good_er  2   rank  0.000000e+00  0.25000000 0.5000000 0.5000000 0.7500000
#&gt;   12 good_er  2  score  6.181670e-04  0.09619282 0.2025479 0.3049306 0.4756059
#&gt;   13 good_er  2  label -1.000000e+00 -1.00000000 0.0000000 0.0000000 1.0000000
#&gt;   14 good_er  2    err  2.750000e-01  0.33500000 0.3700000 0.3818408 0.4300000
#&gt;   15 good_er  2    acc  5.000000e-01  0.57000000 0.6300000 0.6181592 0.6650000
#&gt;   16 good_er  2     sp  0.000000e+00  0.35000000 0.6400000 0.6181592 0.9300000
#&gt;   17 good_er  2     sn  0.000000e+00  0.43000000 0.6400000 0.6181592 0.8500000
#&gt;   18 good_er  2   prec  5.000000e-01  0.56462585 0.6435644 0.7161627 0.8571429
#&gt;   19 good_er  2    mcc  0.000000e+00  0.20943267 0.2802243 0.2819006 0.3958699
#&gt;   20 good_er  2 fscore  0.000000e+00  0.57333333 0.6620690 0.5840647 0.6737589
#&gt;   21 good_er  3   rank  0.000000e+00  0.25000000 0.5000000 0.5000000 0.7500000
#&gt;   22 good_er  3  score  4.959689e-05  0.11022896 0.2837880 0.3477092 0.5145296
#&gt;   23 good_er  3  label -1.000000e+00 -1.00000000 0.0000000 0.0000000 1.0000000
#&gt;   24 good_er  3    err  2.600000e-01  0.30000000 0.3600000 0.3655721 0.4250000
#&gt;   25 good_er  3    acc  4.950000e-01  0.57500000 0.6400000 0.6344279 0.7000000
#&gt;   26 good_er  3     sp  0.000000e+00  0.35000000 0.6900000 0.6344279 0.9600000
#&gt;   27 good_er  3     sn  0.000000e+00  0.46000000 0.6900000 0.6344279 0.8500000
#&gt;   28 good_er  3   prec  4.974874e-01  0.56493506 0.6900000 0.7350960 0.9245283
#&gt;   29 good_er  3    mcc -7.088812e-02  0.22092416 0.3361228 0.3220284 0.4276317
#&gt;   30 good_er  3 fscore  0.000000e+00  0.61333333 0.6777778 0.6005871 0.6857143
#&gt;   31 good_er  4   rank  0.000000e+00  0.25000000 0.5000000 0.5000000 0.7500000
#&gt;   32 good_er  4  score  6.104955e-04  0.12007182 0.2699027 0.3516531 0.5522871
#&gt;   33 good_er  4  label -1.000000e+00 -1.00000000 0.0000000 0.0000000 1.0000000
#&gt;   34 good_er  4    err  2.650000e-01  0.29000000 0.3400000 0.3536318 0.4100000
#&gt;   35 good_er  4    acc  5.000000e-01  0.59000000 0.6600000 0.6463682 0.7100000
#&gt;   36 good_er  4     sp  0.000000e+00  0.38000000 0.7200000 0.6463682 0.9700000
#&gt;   37 good_er  4     sn  0.000000e+00  0.47000000 0.7200000 0.6463682 0.8800000
#&gt;   38 good_er  4   prec  5.000000e-01  0.58666667 0.7216495 0.7451368 0.9400000
#&gt;   39 good_er  4    mcc  0.000000e+00  0.26019134 0.3779645 0.3489168 0.4407941
#&gt;   40 good_er  4 fscore  0.000000e+00  0.61842105 0.6863469 0.6111595 0.7073171
#&gt;           Max.
#&gt;    1 1.0000000
#&gt;    2 0.9905004
#&gt;    3 1.0000000
#&gt;    4 0.5000000
#&gt;    5 0.7700000
#&gt;    6 1.0000000
#&gt;    7 1.0000000
#&gt;    8 1.0000000
#&gt;    9 0.5591581
#&gt;   10 0.7729469
#&gt;   11 1.0000000
#&gt;   12 0.9750152
#&gt;   13 1.0000000
#&gt;   14 0.5000000
#&gt;   15 0.7250000
#&gt;   16 1.0000000
#&gt;   17 1.0000000
#&gt;   18 1.0000000
#&gt;   19 0.4623966
#&gt;   20 0.6892655
#&gt;   21 1.0000000
#&gt;   22 0.9906435
#&gt;   23 1.0000000
#&gt;   24 0.5050000
#&gt;   25 0.7400000
#&gt;   26 1.0000000
#&gt;   27 1.0000000
#&gt;   28 1.0000000
#&gt;   29 0.5180653
#&gt;   30 0.7058824
#&gt;   31 1.0000000
#&gt;   32 0.9899805
#&gt;   33 1.0000000
#&gt;   34 0.5000000
#&gt;   35 0.7350000
#&gt;   36 1.0000000
#&gt;   37 1.0000000
#&gt;   38 1.0000000
#&gt;   39 0.5231497
#&gt;   40 0.7348837
#&gt; 
#&gt; 
#&gt;     === Input data ===
#&gt; 
#&gt;      Model name Dataset ID # of negatives # of positives
#&gt;    1    good_er          1            100            100
#&gt;    2    good_er          2            100            100
#&gt;    3    good_er          3            100            100
#&gt;    4    good_er          4            100            100
#&gt; </div><div class='input'>

<span class='co'>##################################################</span>
<span class='co'>### Multiple models &amp; multiple test datasets</span>
<span class='co'>###</span>

<span class='co'>## Create sample datasets with 100 positives and 100 negatives</span>
<span class='no'>samps</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='create_sim_samples.html'>create_sim_samples</a></span>(<span class='fl'>4</span>, <span class='fl'>100</span>, <span class='fl'>100</span>, <span class='st'>"all"</span>)
<span class='no'>mdat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mmdata.html'>mmdata</a></span>(<span class='no'>samps</span><span class='kw'>[[</span><span class='st'>"scores"</span>]], <span class='no'>samps</span><span class='kw'>[[</span><span class='st'>"labels"</span>]],
               <span class='kw'>modnames</span> <span class='kw'>=</span> <span class='no'>samps</span><span class='kw'>[[</span><span class='st'>"modnames"</span>]],
               <span class='kw'>dsids</span> <span class='kw'>=</span> <span class='no'>samps</span><span class='kw'>[[</span><span class='st'>"dsids"</span>]])

<span class='co'>## Generate an mscurve object that contains ROC and Precision-Recall curves</span>
<span class='no'>mmcurves</span> <span class='kw'>&lt;-</span> <span class='fu'>evalmod</span>(<span class='no'>mdat</span>)
<span class='no'>mmcurves</span></div><div class='output co'>#&gt; 
#&gt;     === AUCs ===
#&gt; 
#&gt;      Model name Dataset ID Curve type       AUC
#&gt;    1     random          1        ROC 0.4456000
#&gt;    2     random          1        PRC 0.5049465
#&gt;    3    poor_er          1        ROC 0.8376000
#&gt;    4    poor_er          1        PRC 0.8125773
#&gt;    5    good_er          1        ROC 0.7655000
#&gt;    6    good_er          1        PRC 0.8214293
#&gt;    7      excel          1        ROC 0.9871000
#&gt;    8      excel          1        PRC 0.9868388
#&gt;    9       perf          1        ROC 1.0000000
#&gt;   10       perf          1        PRC 1.0000000
#&gt;   11     random          2        ROC 0.5026000
#&gt;   12     random          2        PRC 0.4796443
#&gt;   13    poor_er          2        ROC 0.7999000
#&gt;   14    poor_er          2        PRC 0.7248013
#&gt;   15    good_er          2        ROC 0.8218000
#&gt;   16    good_er          2        PRC 0.8578840
#&gt;   17      excel          2        ROC 0.9809000
#&gt;   18      excel          2        PRC 0.9834017
#&gt;   19       perf          2        ROC 1.0000000
#&gt;   20       perf          2        PRC 1.0000000
#&gt;   21     random          3        ROC 0.5509000
#&gt;   22     random          3        PRC 0.5515234
#&gt;   23    poor_er          3        ROC 0.8563000
#&gt;   24    poor_er          3        PRC 0.8075187
#&gt;   25    good_er          3        ROC 0.8094000
#&gt;   26    good_er          3        PRC 0.8450026
#&gt;   27      excel          3        ROC 0.9805000
#&gt;   28      excel          3        PRC 0.9815245
#&gt;   29       perf          3        ROC 1.0000000
#&gt;   30       perf          3        PRC 1.0000000
#&gt;   31     random          4        ROC 0.5966000
#&gt;   32     random          4        PRC 0.5980173
#&gt;   33    poor_er          4        ROC 0.8182000
#&gt;   34    poor_er          4        PRC 0.7597091
#&gt;   35    good_er          4        ROC 0.7992000
#&gt;   36    good_er          4        PRC 0.8381329
#&gt;   37      excel          4        ROC 0.9929000
#&gt;   38      excel          4        PRC 0.9926290
#&gt;   39       perf          4        ROC 1.0000000
#&gt;   40       perf          4        PRC 1.0000000
#&gt; 
#&gt; 
#&gt;     === Input data ===
#&gt; 
#&gt;      Model name Dataset ID # of negatives # of positives
#&gt;    1     random          1            100            100
#&gt;    2    poor_er          1            100            100
#&gt;    3    good_er          1            100            100
#&gt;    4      excel          1            100            100
#&gt;    5       perf          1            100            100
#&gt;    6     random          2            100            100
#&gt;    7    poor_er          2            100            100
#&gt;    8    good_er          2            100            100
#&gt;    9      excel          2            100            100
#&gt;   10       perf          2            100            100
#&gt;   11     random          3            100            100
#&gt;   12    poor_er          3            100            100
#&gt;   13    good_er          3            100            100
#&gt;   14      excel          3            100            100
#&gt;   15       perf          3            100            100
#&gt;   16     random          4            100            100
#&gt;   17    poor_er          4            100            100
#&gt;   18    good_er          4            100            100
#&gt;   19      excel          4            100            100
#&gt;   20       perf          4            100            100
#&gt; </div><div class='input'>
<span class='co'>## Generate an mmpoints object that contains basic evaluation measures</span>
<span class='no'>mmpoints</span> <span class='kw'>&lt;-</span> <span class='fu'>evalmod</span>(<span class='no'>mdat</span>, <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"basic"</span>)
<span class='no'>mmpoints</span></div><div class='output co'>#&gt; 
#&gt;     === Basic performance evaluation measures ===
#&gt; 
#&gt;      ## Performance measures (Meas.)
#&gt;       rank:   normalized rank
#&gt;       score:  score
#&gt;       label:  label
#&gt;       err:    error rate
#&gt;       acc:    accuracy
#&gt;       sp:     specificity
#&gt;       sn:     sensitivity
#&gt;       prec:   precision
#&gt;       mcc:    Matthews correlation coefficient
#&gt;       fscore: F-score
#&gt; 
#&gt; 
#&gt;        Model ID  Meas.          Min.      1st Qu.      Median        Mean
#&gt;    1  random  1   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;    2  random  1  score -3.5280022641 -0.747836849 -0.09661564 -0.06595369
#&gt;    3  random  1  label -1.0000000000 -1.000000000  0.00000000  0.00000000
#&gt;    4  random  1    err  0.4700000000  0.520000000  0.53000000  0.52706468
#&gt;    5  random  1    acc  0.4350000000  0.460000000  0.47000000  0.47293532
#&gt;    6  random  1     sp  0.0000000000  0.220000000  0.47000000  0.47293532
#&gt;    7  random  1     sn  0.0000000000  0.210000000  0.47000000  0.47293532
#&gt;    8  random  1   prec  0.3962264151  0.453333333  0.47014925  0.49504989
#&gt;    9  random  1    mcc -0.1636634177 -0.092715456 -0.07314321 -0.05842268
#&gt;   10  random  1 fscore  0.0000000000  0.276315789  0.46305419  0.42468039
#&gt;   11 poor_er  1   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;   12 poor_er  1  score  0.0274766202  0.453225997  0.70605770  0.64764482
#&gt;   13 poor_er  1  label -1.0000000000 -1.000000000  0.00000000  0.00000000
#&gt;   14 poor_er  1    err  0.2100000000  0.265000000  0.31000000  0.33203980
#&gt;   15 poor_er  1    acc  0.5000000000  0.610000000  0.69000000  0.66796020
#&gt;   16 poor_er  1     sp  0.0000000000  0.480000000  0.76000000  0.66796020
#&gt;   17 poor_er  1     sn  0.0000000000  0.400000000  0.76000000  0.66796020
#&gt;   18 poor_er  1   prec  0.5000000000  0.655405405  0.76136364  0.73960305
#&gt;   19 poor_er  1    mcc  0.0708881205  0.316255695  0.42344618  0.39980288
#&gt;   20 poor_er  1 fscore  0.0000000000  0.533333333  0.70270270  0.62294547
#&gt;   21 good_er  1   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;   22 good_er  1  score  0.0002605533  0.110634548  0.24784931  0.32562504
#&gt;   23 good_er  1  label -1.0000000000 -1.000000000  0.00000000  0.00000000
#&gt;   24 good_er  1    err  0.2750000000  0.300000000  0.35500000  0.36791045
#&gt;   25 good_er  1    acc  0.4950000000  0.580000000  0.64500000  0.63208955
#&gt;   26 good_er  1     sp  0.0000000000  0.350000000  0.69000000  0.63208955
#&gt;   27 good_er  1     sn  0.0000000000  0.470000000  0.69000000  0.63208955
#&gt;   28 good_er  1   prec  0.4974874372  0.566666667  0.69306931  0.73430660
#&gt;   29 good_er  1    mcc -0.0708881205  0.224528613  0.31853985  0.31354658
#&gt;   30 good_er  1 fscore  0.0000000000  0.616352201  0.67391304  0.59889983
#&gt;   31   excel  1   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;   32   excel  1  score -2.2283796582  0.006313924  1.76607252  1.55452156
#&gt;   33   excel  1  label -1.0000000000 -1.000000000  0.00000000  0.00000000
#&gt;   34   excel  1    err  0.0500000000  0.135000000  0.25000000  0.25766169
#&gt;   35   excel  1    acc  0.5000000000  0.625000000  0.75000000  0.74233831
#&gt;   36   excel  1     sp  0.0000000000  0.500000000  0.94000000  0.74233831
#&gt;   37   excel  1     sn  0.0000000000  0.500000000  0.94000000  0.74233831
#&gt;   38   excel  1   prec  0.5000000000  0.666666667  0.94059406  0.83929525
#&gt;   39   excel  1    mcc  0.0708881205  0.382260072  0.57735027  0.56046789
#&gt;   40   excel  1 fscore  0.0000000000  0.666666667  0.76335878  0.70384661
#&gt;   41    perf  1   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;   42    perf  1  score  0.0000000000  0.000000000  0.50000000  0.50000000
#&gt;   43    perf  1  label -1.0000000000 -1.000000000  0.00000000  0.00000000
#&gt;   44    perf  1    err  0.0000000000  0.125000000  0.25000000  0.25124378
#&gt;   45    perf  1    acc  0.5000000000  0.625000000  0.75000000  0.74875622
#&gt;   46    perf  1     sp  0.0000000000  0.500000000  1.00000000  0.74875622
#&gt;   47    perf  1     sn  0.0000000000  0.500000000  1.00000000  0.74875622
#&gt;   48    perf  1   prec  0.5000000000  0.666666667  1.00000000  0.84609623
#&gt;   49    perf  1    mcc  0.0708881205  0.382260072  0.57735027  0.57352524
#&gt;   50    perf  1 fscore  0.0000000000  0.666666667  0.76335878  0.71042736
#&gt;   51  random  2   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;   52  random  2  score -2.3639621720 -0.595193554  0.02424395  0.10640572
#&gt;   53  random  2  label -1.0000000000 -1.000000000  0.00000000  0.00000000
#&gt;   54  random  2    err  0.4400000000  0.485000000  0.50000000  0.49870647
#&gt;   55  random  2    acc  0.4450000000  0.480000000  0.50000000  0.50129353
#&gt;   56  random  2     sp  0.0000000000  0.290000000  0.51000000  0.50129353
#&gt;   57  random  2     sn  0.0000000000  0.230000000  0.51000000  0.50129353
#&gt;   58  random  2   prec  0.1428571429  0.461538462  0.50000000  0.47307699
#&gt;   59  random  2    mcc -0.1519737171 -0.046508656  0.00000000  0.00131621
#&gt;   60  random  2 fscore  0.0000000000  0.304635762  0.51000000  0.44421930
#&gt;   61 poor_er  2   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;   62 poor_er  2  score  0.0047294698  0.449109801  0.71995960  0.62891199
#&gt;   63 poor_er  2  label -1.0000000000 -1.000000000  0.00000000  0.00000000
#&gt;   64 poor_er  2    err  0.2150000000  0.270000000  0.34000000  0.35079602
#&gt;   65 poor_er  2    acc  0.5000000000  0.570000000  0.66000000  0.64920398
#&gt;   66 poor_er  2     sp  0.0000000000  0.490000000  0.76000000  0.64920398
#&gt;   67 poor_er  2     sn  0.0000000000  0.360000000  0.76000000  0.64920398
#&gt;   68 poor_er  2   prec  0.5000000000  0.653846154  0.70000000  0.68459198
#&gt;   69 poor_er  2    mcc  0.0586210382  0.205513115  0.35210953  0.35052106
#&gt;   70 poor_er  2 fscore  0.0000000000  0.480000000  0.68965517  0.59739672
#&gt;   71 good_er  2   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;   72 good_er  2  score  0.0003676530  0.123698687  0.30888124  0.36560412
#&gt;   73 good_er  2  label -1.0000000000 -1.000000000  0.00000000  0.00000000
#&gt;   74 good_er  2    err  0.2350000000  0.260000000  0.32000000  0.33990050
#&gt;   75 good_er  2    acc  0.5000000000  0.590000000  0.68000000  0.66009950
#&gt;   76 good_er  2     sp  0.0000000000  0.400000000  0.76000000  0.66009950
#&gt;   77 good_er  2     sn  0.0000000000  0.460000000  0.76000000  0.66009950
#&gt;   78 good_er  2   prec  0.5000000000  0.596026490  0.76000000  0.76014897
#&gt;   79 good_er  2    mcc  0.0708881205  0.268141586  0.42220033  0.37525760
#&gt;   80 good_er  2 fscore  0.0000000000  0.621621622  0.69512195  0.62545478
#&gt;   81   excel  2   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;   82   excel  2  score -2.1388433306 -0.036100036  1.46301440  1.52662831
#&gt;   83   excel  2  label -1.0000000000 -1.000000000  0.00000000  0.00000000
#&gt;   84   excel  2    err  0.0600000000  0.135000000  0.25000000  0.26074627
#&gt;   85   excel  2    acc  0.5000000000  0.625000000  0.75000000  0.73925373
#&gt;   86   excel  2     sp  0.0000000000  0.500000000  0.92000000  0.73925373
#&gt;   87   excel  2     sn  0.0000000000  0.500000000  0.92000000  0.73925373
#&gt;   88   excel  2   prec  0.5000000000  0.666666667  0.92000000  0.83705303
#&gt;   89   excel  2    mcc  0.0708881205  0.382260072  0.57735027  0.55415304
#&gt;   90   excel  2 fscore  0.0000000000  0.666666667  0.76335878  0.70118846
#&gt;   91    perf  2   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;   92    perf  2  score  0.0000000000  0.000000000  0.50000000  0.50000000
#&gt;   93    perf  2  label -1.0000000000 -1.000000000  0.00000000  0.00000000
#&gt;   94    perf  2    err  0.0000000000  0.125000000  0.25000000  0.25124378
#&gt;   95    perf  2    acc  0.5000000000  0.625000000  0.75000000  0.74875622
#&gt;   96    perf  2     sp  0.0000000000  0.500000000  1.00000000  0.74875622
#&gt;   97    perf  2     sn  0.0000000000  0.500000000  1.00000000  0.74875622
#&gt;   98    perf  2   prec  0.5000000000  0.666666667  1.00000000  0.84609623
#&gt;   99    perf  2    mcc  0.0708881205  0.382260072  0.57735027  0.57352524
#&gt;  100    perf  2 fscore  0.0000000000  0.666666667  0.76335878  0.71042736
#&gt;  101  random  3   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;  102  random  3  score -2.8287613019 -0.712628045 -0.05184177 -0.03853616
#&gt;  103  random  3  label -1.0000000000 -1.000000000  0.00000000  0.00000000
#&gt;  104  random  3    err  0.4400000000  0.460000000  0.47500000  0.47467662
#&gt;  105  random  3    acc  0.4900000000  0.515000000  0.52500000  0.52532338
#&gt;  106  random  3     sp  0.0000000000  0.290000000  0.53000000  0.52532338
#&gt;  107  random  3     sn  0.0000000000  0.300000000  0.53000000  0.52532338
#&gt;  108  random  3   prec  0.0000000000  0.511764706  0.52808989  0.54315526
#&gt;  109  random  3    mcc -0.0708881205  0.040165065  0.06099628  0.06324985
#&gt;  110  random  3 fscore  0.0000000000  0.394736842  0.53000000  0.47887300
#&gt;  111 poor_er  3   rank  0.0000000000  0.250000000  0.50000000  0.50000000
#&gt;          3rd Qu.      Max.
#&gt;    1  0.75000000 1.0000000
#&gt;    2  0.54389903 3.3379692
#&gt;    3  1.00000000 1.0000000
#&gt;    4  0.54000000 0.5650000
#&gt;    5  0.48000000 0.5300000
#&gt;    6  0.71000000 1.0000000
#&gt;    7  0.72000000 1.0000000
#&gt;    8  0.48344371 1.0000000
#&gt;    9 -0.04828045 0.1601282
#&gt;   10  0.57600000 0.6711409
#&gt;   11  0.75000000 1.0000000
#&gt;   12  0.89518169 0.9979642
#&gt;   13  1.00000000 1.0000000
#&gt;   14  0.39000000 0.5000000
#&gt;   15  0.73500000 0.7900000
#&gt;   16  0.90000000 1.0000000
#&gt;   17  0.98000000 1.0000000
#&gt;   18  0.81081081 1.0000000
#&gt;   19  0.50598644 0.5810468
#&gt;   20  0.77220077 0.7961165
#&gt;   21  0.75000000 1.0000000
#&gt;   22  0.47846000 0.9862784
#&gt;   23  1.00000000 1.0000000
#&gt;   24  0.42000000 0.5050000
#&gt;   25  0.70000000 0.7250000
#&gt;   26  0.97000000 1.0000000
#&gt;   27  0.85000000 1.0000000
#&gt;   28  0.93750000 1.0000000
#&gt;   29  0.43193497 0.5227733
#&gt;   30  0.68539326 0.7120419
#&gt;   31  0.75000000 1.0000000
#&gt;   32  3.13393864 5.3748633
#&gt;   33  1.00000000 1.0000000
#&gt;   34  0.37500000 0.5000000
#&gt;   35  0.86500000 0.9500000
#&gt;   36  1.00000000 1.0000000
#&gt;   37  1.00000000 1.0000000
#&gt;   38  1.00000000 1.0000000
#&gt;   39  0.75604925 0.9007209
#&gt;   40  0.86666667 0.9489796
#&gt;   41  0.75000000 1.0000000
#&gt;   42  1.00000000 1.0000000
#&gt;   43  1.00000000 1.0000000
#&gt;   44  0.37500000 0.5000000
#&gt;   45  0.87500000 1.0000000
#&gt;   46  1.00000000 1.0000000
#&gt;   47  1.00000000 1.0000000
#&gt;   48  1.00000000 1.0000000
#&gt;   49  0.77459667 1.0000000
#&gt;   50  0.87640449 1.0000000
#&gt;   51  0.75000000 1.0000000
#&gt;   52  0.85367559 2.9956941
#&gt;   53  1.00000000 1.0000000
#&gt;   54  0.52000000 0.5550000
#&gt;   55  0.51500000 0.5600000
#&gt;   56  0.73000000 1.0000000
#&gt;   57  0.79000000 1.0000000
#&gt;   58  0.51401869 1.0000000
#&gt;   59  0.06548932 0.1362392
#&gt;   60  0.63709677 0.6734694
#&gt;   61  0.75000000 1.0000000
#&gt;   62  0.88462381 0.9989124
#&gt;   63  1.00000000 1.0000000
#&gt;   64  0.43000000 0.5000000
#&gt;   65  0.73000000 0.7850000
#&gt;   66  0.86000000 1.0000000
#&gt;   67  0.99000000 1.0000000
#&gt;   68  0.73333333 1.0000000
#&gt;   69  0.49871623 0.5765228
#&gt;   70  0.76923077 0.8000000
#&gt;   71  0.75000000 1.0000000
#&gt;   72  0.53960892 0.9886929
#&gt;   73  1.00000000 1.0000000
#&gt;   74  0.41000000 0.5000000
#&gt;   75  0.74000000 0.7650000
#&gt;   76  0.96000000 1.0000000
#&gt;   77  0.90000000 1.0000000
#&gt;   78  0.93103448 1.0000000
#&gt;   79  0.50103898 0.5509496
#&gt;   80  0.73109244 0.7685185
#&gt;   81  0.75000000 1.0000000
#&gt;   82  3.06757921 5.2662954
#&gt;   83  1.00000000 1.0000000
#&gt;   84  0.37500000 0.5000000
#&gt;   85  0.86500000 0.9400000
#&gt;   86  1.00000000 1.0000000
#&gt;   87  1.00000000 1.0000000
#&gt;   88  1.00000000 1.0000000
#&gt;   89  0.75005499 0.8828296
#&gt;   90  0.86363636 0.9375000
#&gt;   91  0.75000000 1.0000000
#&gt;   92  1.00000000 1.0000000
#&gt;   93  1.00000000 1.0000000
#&gt;   94  0.37500000 0.5000000
#&gt;   95  0.87500000 1.0000000
#&gt;   96  1.00000000 1.0000000
#&gt;   97  1.00000000 1.0000000
#&gt;   98  1.00000000 1.0000000
#&gt;   99  0.77459667 1.0000000
#&gt;  100  0.87640449 1.0000000
#&gt;  101  0.75000000 1.0000000
#&gt;  102  0.57999785 3.0485392
#&gt;  103  1.00000000 1.0000000
#&gt;  104  0.48500000 0.5100000
#&gt;  105  0.54000000 0.5600000
#&gt;  106  0.80000000 1.0000000
#&gt;  107  0.79000000 1.0000000
#&gt;  108  0.56363636 0.8000000
#&gt;  109  0.09321155 0.1486753
#&gt;  110  0.63200000 0.6734694
#&gt;  111  0.75000000 1.0000000
#&gt;  [ reached getOption("max.print") -- omitted 89 rows ]
#&gt; 
#&gt; 
#&gt;     === Input data ===
#&gt; 
#&gt;      Model name Dataset ID # of negatives # of positives
#&gt;    1     random          1            100            100
#&gt;    2    poor_er          1            100            100
#&gt;    3    good_er          1            100            100
#&gt;    4      excel          1            100            100
#&gt;    5       perf          1            100            100
#&gt;    6     random          2            100            100
#&gt;    7    poor_er          2            100            100
#&gt;    8    good_er          2            100            100
#&gt;    9      excel          2            100            100
#&gt;   10       perf          2            100            100
#&gt;   11     random          3            100            100
#&gt;   12    poor_er          3            100            100
#&gt;   13    good_er          3            100            100
#&gt;   14      excel          3            100            100
#&gt;   15       perf          3            100            100
#&gt;   16     random          4            100            100
#&gt;   17    poor_er          4            100            100
#&gt;   18    good_er          4            100            100
#&gt;   19      excel          4            100            100
#&gt;   20       perf          4            100            100
#&gt; </div><div class='input'>

<span class='co'>##################################################</span>
<span class='co'>### AUC with the U statistic</span>
<span class='co'>###</span>

<span class='co'>## mode = "aucroc" returns 'aucroc' S3 object</span>
<span class='fu'>data</span>(<span class='no'>P10N10</span>)

<span class='co'># 'aucroc' S3 object</span>
<span class='no'>uauc1</span> <span class='kw'>&lt;-</span> <span class='fu'>evalmod</span>(<span class='kw'>scores</span> <span class='kw'>=</span> <span class='no'>P10N10</span>$<span class='no'>scores</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='no'>P10N10</span>$<span class='no'>labels</span>,
                 <span class='kw'>mode</span><span class='kw'>=</span><span class='st'>"aucroc"</span>)

<span class='co'># print 'aucroc'</span>
<span class='no'>uauc1</span></div><div class='output co'>#&gt; 
#&gt;     === Input data ===
#&gt; 
#&gt;      Model name Dataset ID # of negatives # of positives
#&gt;    1         m1          1             10             10
#&gt; 
#&gt; 
#&gt;     === AUCs ===
#&gt; 
#&gt;      Model name Dataset ID  AUC  U
#&gt;    1         m1          1 0.72 72
#&gt; </div><div class='input'>
<span class='co'># as.data.frame 'aucroc'</span>
<span class='fu'><a href='as.data.frame.html'>as.data.frame</a></span>(<span class='no'>uauc1</span>)</div><div class='output co'>#&gt;   modnames dsids aucs ustats
#&gt; 1       m1     1 0.72     72</div><div class='input'>
<span class='co'>## It is 2-3 times faster than mode = "rocprc"</span>
<span class='co'># A sample of 100,000</span>
<span class='no'>samp1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='create_sim_samples.html'>create_sim_samples</a></span>(<span class='fl'>1</span>, <span class='fl'>50000</span>, <span class='fl'>50000</span>)

<span class='co'># a function to test mode = "rocprc"</span>
<span class='no'>func_evalmod_rocprc</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>samp</span>) {
   <span class='no'>curves</span> <span class='kw'>&lt;-</span> <span class='fu'>evalmod</span>(<span class='kw'>scores</span> <span class='kw'>=</span> <span class='no'>samp</span>$<span class='no'>scores</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='no'>samp</span>$<span class='no'>labels</span>)
   <span class='no'>aucs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='auc.html'>auc</a></span>(<span class='no'>curves</span>)
}

<span class='co'># a function to test mode = "aucroc"</span>
<span class='no'>func_evalmod_aucroc</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>samp</span>) {
  <span class='no'>uaucs</span> <span class='kw'>&lt;-</span> <span class='fu'>evalmod</span>(<span class='kw'>scores</span> <span class='kw'>=</span> <span class='no'>samp</span>$<span class='no'>scores</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='no'>samp</span>$<span class='no'>labels</span>, <span class='kw'>mode</span><span class='kw'>=</span><span class='st'>"aucroc"</span>)
  <span class='fu'><a href='as.data.frame.html'>as.data.frame</a></span>(<span class='no'>uaucs</span>)
}

<span class='co'># Process time</span>
<span class='fu'>system.time</span>(<span class='no'>res1</span> <span class='kw'>&lt;-</span> <span class='fu'>func_evalmod_rocprc</span>(<span class='no'>samp1</span>))</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;   0.052   0.009   0.061 </div><div class='input'><span class='fu'>system.time</span>(<span class='no'>res2</span> <span class='kw'>&lt;-</span> <span class='fu'>func_evalmod_aucroc</span>(<span class='no'>samp1</span>))</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;   0.020   0.001   0.021 </div><div class='input'>
<span class='co'># AUCs</span>
<span class='no'>res1</span></div><div class='output co'>#&gt;   modnames dsids curvetypes      aucs
#&gt; 1       m1     1        ROC 0.4999864
#&gt; 2       m1     1        PRC 0.4986640</div><div class='input'><span class='no'>res2</span></div><div class='output co'>#&gt;   modnames dsids      aucs     ustats
#&gt; 1       m1     1 0.4999864 1249966068</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Takaya Saito, Marc Rehmsmeier.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
